---
title: "4:31:58 PM - November 12, 2025"
date: 2025-11-12T16:31:58.096Z
timestamp: 1762965118096
---

## Project Notes

Search feature complete! Two major improvements:

1. **NIP-50 Local Cache Search** - Embedded relay now properly filters cached videos by content/tags
2. **User-Initiated External Search** - New button lets users request more results from external relays

**Testing Steps**:
1. Search for "king" - should show only matching local results + banner
2. Tap "Search" button - should query external relays
3. Verify external results merge with local results
4. Search for gibberish - should show 0 results + "Search External Relays" button

**What Works Now**:
- ✅ Local search filters properly (NIP-50 SQL in embedded relay)
- ✅ External search is opt-in (user controlled)
- ✅ Clear UX feedback for each state
- ✅ Results deduplication
- ✅ Graceful empty state handling

**Still TODO** (future):
- Make embedded relay forward NIP-50 to external relays (currently just searches its own cache)
- Add user/hashtag external search (currently only videos)

